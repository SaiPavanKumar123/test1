<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <title>My Assessment</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
    <script type="text/javascript"
        charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
</head>

<body>
    <div class="container">
        <h1 class="text-center">Book CRUD</h1>
        <br>
        <button id="allpublishers" onclick="loadPublishers()" class="btn btn-primary">Get All Publishers</button>
        <br><br>
     
        <table class="table table-striped" style="width: 800px;" id="list">
            <thead>
                <tr>
                    <th>Publisher ID</th>
                    <th>Publisher Name</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table rows will be added dynamically -->
            </tbody>
        </table>
    </div>
 
   

    <script>
        function loadPublishers() {
            $.get("http://localhost:9010/publishers", function (data) {
                var dataTable = $("#list").DataTable({
                    destroy: true,
                    data: data,
                    columns: [
                        { data: "publisherid" },
                        { data: "publishername" },
                        {
                            data: null,
                            render: function (data, type, row) {
                                return '<button onclick="viewBooks(' + row.id + ')" class="btn btn-secondary">View Books</button>';
                            }
                        }
                    ]
                });
            });
        }

function viewBooks(publisherid){
	window.location.href='index2.html';
}
        
    </script>
   
    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
</body>

</html>
